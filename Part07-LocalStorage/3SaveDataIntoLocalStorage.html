<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Save Data to LocalStorage</title>
 
    <!-- !CSS -->
    <link href="Styles/html5reset.css" rel="stylesheet" />
    <link href="Styles/style.css" rel="stylesheet" />
 
    <!-- !Modernizr - Use Modernizr's YepNope to load the other scripts -->
    <script src="Scripts/modernizr-2.5.3.min.js"></script>
    <script>
        Modernizr.load({
            load: 'http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.2.min.js',
            complete: function () {
                if (!window.jQuery) {
                    Modernizr.load("Scripts/jquery-1.7.2.min.js");
                }
                $("#loaded").append("Modernizr and jQuery loaded");
                if (Modernizr.localstorage) {
                    $("#LocalStorageStatus").append("localStorage is available");
                } else {
                    $("#LocalStorageStatus").append("use cookies");
                };
            }
        });
        
function SaveYourName() {
    var yourName = $("#yourName").val();
    if (Modernizr.localstorage) {
        try {
            //saves to the database, “key”, “value”
            localStorage.setItem("name", yourName);
        } catch (e) {
            if (e == QUOTA_EXCEEDED_ERR) {
                //data wasn’t successfully saved due to quota exceed so throw an error
                alert('Quota exceeded!');
            }
        }

        $("#yoursavedname").append("Your name was saved:" + localStorage.getItem("name")); 

        //deletes the matching item from the database
        //localStorage.removeItem("name");
    }
    else {
        var exdate = new Date();
        exdate.setDate(exdate.getDate() + 30);
        var c_value = escape($(yourName).val()) + ((exdays == null) ? "" : "; expires=" + exdate.toUTCString());
        document.cookie = c_name + "=" + c_value;
        $("#yoursavedname").append("Your cookie:" + document.cookie); 
    }

}
    </script>
</head>
<body>
    <form>
    <div id="loaded"></div>
    <div id="LocalStorageStatus"></div>
    <div id="somedata">
        <label for="yourName" title="Your Name">Your Name</label>
        <input id="yourName" type="text" onchange="SaveYourName()"/>
    </div>
    <div id="yoursavedname"></div>
    </form>
</body>
</html>